{
  "metadata": {
    "version": "1.0",
    "lastUpdate": "2025-01-07",
    "description": "TL1 troubleshooting and provisioning playbooks"
  },
  "troubleshooting": [
    {
      "id": "alarm-check",
      "name": "Alarm Check",
      "description": "Check for active alarms on the system",
      "steps": [
        {
          "id": 1,
          "name": "Retrieve All Alarms",
          "command": "RTRV-ALM-ALL",
          "params": {
            "TID": "$TID",
            "AID": "",
            "CTAG": "$CTAG"
          },
          "expectedResponse": "COMPLD",
          "onError": "abort"
        },
        {
          "id": 2,
          "name": "Retrieve Alarm Conditions",
          "command": "RTRV-COND-ALL",
          "params": {
            "TID": "$TID",
            "AID": "",
            "CTAG": "$CTAG"
          },
          "expectedResponse": "COMPLD",
          "onError": "continue"
        }
      ]
    },
    {
      "id": "t1-status",
      "name": "T1 Status Check",
      "description": "Check status of T1 circuits",
      "steps": [
        {
          "id": 1,
          "name": "Retrieve T1 Configuration",
          "command": "RTRV-T1",
          "params": {
            "TID": "$TID",
            "AID": "$AID",
            "CTAG": "$CTAG"
          },
          "expectedResponse": "COMPLD",
          "onError": "abort"
        },
        {
          "id": 2,
          "name": "Check T1 Alarms",
          "command": "RTRV-ALM-T1",
          "params": {
            "TID": "$TID",
            "AID": "$AID",
            "CTAG": "$CTAG"
          },
          "expectedResponse": "COMPLD",
          "onError": "continue"
        }
      ]
    }
  ],
  "provisioning": [
    {
      "id": "provision-t1",
      "name": "Provision T1 Circuit",
      "description": "Complete T1 circuit provisioning workflow",
      "wizard": true,
      "steps": [
        {
          "id": 1,
          "name": "Basic Configuration",
          "fields": [
            {
              "name": "AID",
              "label": "Access ID (e.g., DG1-T1-1)",
              "type": "text",
              "required": true,
              "validation": "^DG\\d+-T1-\\d+$"
            },
            {
              "name": "RATE",
              "label": "Rate",
              "type": "select",
              "options": ["T1", "DS1"],
              "default": "T1",
              "required": true
            },
            {
              "name": "CODING",
              "label": "Line Coding",
              "type": "select",
              "options": ["AMI", "B8ZS"],
              "default": "B8ZS",
              "required": true
            }
          ]
        },
        {
          "id": 2,
          "name": "Advanced Settings",
          "conditional": true,
          "fields": [
            {
              "name": "FRAMING",
              "label": "Framing",
              "type": "select",
              "options": ["ESF", "SF"],
              "default": "ESF",
              "required": false
            },
            {
              "name": "LBO",
              "label": "Line Build Out",
              "type": "select",
              "options": ["0DB", "7.5DB", "15DB", "22.5DB"],
              "default": "0DB",
              "required": false
            }
          ]
        },
        {
          "id": 3,
          "name": "Review & Provision",
          "preview": true,
          "command": "ENT-T1",
          "params": {
            "TID": "$TID",
            "AID": "$AID",
            "CTAG": "$CTAG",
            "optional": "$RATE,$CODING,$FRAMING,$LBO"
          }
        }
      ]
    },
    {
      "id": "provision-oc12",
      "name": "Provision OC12 Circuit",
      "description": "Complete OC12 circuit provisioning workflow",
      "wizard": true,
      "steps": [
        {
          "id": 1,
          "name": "Basic Configuration",
          "fields": [
            {
              "name": "AID",
              "label": "Access ID (e.g., DG1-OC12-1)",
              "type": "text",
              "required": true,
              "validation": "^DG\\d+-OC12-\\d+$"
            },
            {
              "name": "RATE",
              "label": "Rate",
              "type": "select",
              "options": ["OC12", "OC3"],
              "default": "OC12",
              "required": true
            }
          ]
        },
        {
          "id": 2,
          "name": "Review & Provision",
          "preview": true,
          "command": "ENT-OC12",
          "params": {
            "TID": "$TID",
            "AID": "$AID",
            "CTAG": "$CTAG",
            "optional": "$RATE"
          }
        }
      ]
    }
  ]
}
