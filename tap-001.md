# TAP-001: TL1 Assistant Troubleshooting Procedures

**Document ID**: TAP-001  
**Version**: 1.0  
**Date**: October 7, 2025  
**Scope**: TL1 Assistant Web GUI and Network Element Communication

## Overview

This document provides systematic troubleshooting procedures for common issues encountered with the TL1 Assistant application and TL1 device communication.

## Quick Diagnosis Flowchart

```
Application Issue?
├── Won't Start → Section 1: Application Startup Issues
├── Web Interface Problems → Section 2: Web Interface Issues  
├── Connection Failed → Section 3: Network Connectivity Issues
├── Command Errors → Section 4: TL1 Command Issues
├── Performance Problems → Section 5: Performance Issues
└── Data Issues → Section 6: Database and Configuration Issues
```

---

## Section 1: Application Startup Issues

### Problem: Application Won't Start

#### Symptom 1.1: "Python not found" error
**Root Cause**: Python not installed or not in PATH

**Resolution Steps**:
1. Verify Python installation:
   ```bash
   python3 --version
   # or on Windows:
   python --version
   ```
2. If not installed, download from https://python.org
3. Ensure Python is added to system PATH
4. Restart terminal/command prompt
5. Retry application startup

**Expected Result**: Python version 3.6+ displayed

#### Symptom 1.2: "Module not found" error
**Root Cause**: Missing Flask dependency

**Resolution Steps**:
1. Install Flask manually:
   ```bash
   pip install flask
   # or:
   pip3 install flask
   ```
2. Verify installation:
   ```bash
   python3 -c "import flask; print(flask.__version__)"
   ```
3. Restart TL1 Assistant

**Expected Result**: Flask version displayed, application starts

#### Symptom 1.3: "Permission denied" error (Linux/Mac)
**Root Cause**: Script not executable

**Resolution Steps**:
1. Make script executable:
   ```bash
   chmod +x start-webgui.sh
   ```
2. Verify permissions:
   ```bash
   ls -la start-webgui.sh
   ```
3. Run script again

**Expected Result**: Script executes successfully

### Problem: Port Already in Use

#### Symptom 1.4: "Address already in use" error
**Root Cause**: Port 8080 occupied by another process

**Resolution Steps**:
1. Find process using port 8080:
   ```bash
   # Linux/Mac:
   lsof -i :8080
   
   # Windows:
   netstat -ano | findstr :8080
   ```
2. Option A - Kill existing process:
   ```bash
   # Linux/Mac:
   kill -9 <PID>
   
   # Windows:
   taskkill /PID <PID> /F
   ```
3. Option B - Change port in tl1_web_gui.py:
   ```python
   # Find line ~line 750:
   httpd = HTTPServer(('localhost', 8081), handler_class)
   ```

**Expected Result**: Application starts on available port

---

## Section 2: Web Interface Issues

### Problem: Browser Won't Open or Load

#### Symptom 2.1: Browser doesn't open automatically
**Root Cause**: System browser configuration

**Resolution Steps**:
1. Manually open browser
2. Navigate to: http://localhost:8080
3. If different port used, check console output for correct URL

**Expected Result**: TL1 Assistant web interface loads

#### Symptom 2.2: "This site can't be reached" error
**Root Cause**: Application not running or wrong URL

**Resolution Steps**:
1. Verify application is running (check console for "✅ TL1 Assistant started successfully!")
2. Confirm correct URL: http://localhost:8080 (or displayed port)
3. Try 127.0.0.1 instead of localhost: http://127.0.0.1:8080
4. Check firewall settings
5. Try different browser

**Expected Result**: Web interface loads successfully

#### Symptom 2.3: Interface loads but no commands appear
**Root Cause**: JavaScript errors or command database issues

**Resolution Steps**:
1. Open browser developer tools (F12)
2. Check Console tab for JavaScript errors
3. Check Network tab for failed API requests
4. Refresh page (Ctrl+F5)
5. Verify data/commands.json exists and is valid:
   ```bash
   python3 -c "import json; json.load(open('data/commands.json'))"
   ```

**Expected Result**: Commands load and appear in sidebar

---

## Section 3: Network Connectivity Issues

### Problem: Cannot Connect to TL1 Device

#### Symptom 3.1: "Connection failed" message
**Root Cause**: Network connectivity or device configuration

**Resolution Steps**:
1. Verify device IP address and port (default: 23)
2. Test basic connectivity:
   ```bash
   ping <device_ip>
   telnet <device_ip> 23
   ```
3. Check network firewall rules
4. Verify device Telnet service is enabled
5. Try different port if not using standard 23

**Expected Result**: Connection status shows "Connected"

#### Symptom 3.2: Connection established but immediate disconnect
**Root Cause**: Device security settings or session limits

**Resolution Steps**:
1. Check device session limits
2. Verify source IP is allowed
3. Review device security policies
4. Check for automatic timeout settings
5. Try connecting from different source IP

**Expected Result**: Stable connection maintained

#### Symptom 3.3: "Network unreachable" error
**Root Cause**: Routing or network configuration

**Resolution Steps**:
1. Verify network routing:
   ```bash
   traceroute <device_ip>  # Linux/Mac
   tracert <device_ip>     # Windows
   ```
2. Check subnet configuration
3. Verify VPN connection if required
4. Test from different network segment
5. Contact network administrator

**Expected Result**: Network path to device established

---

## Section 4: TL1 Command Issues

### Problem: Command Execution Errors

#### Symptom 4.1: "DENY" response from device
**Root Cause**: Syntax error, permissions, or invalid parameters

**Resolution Steps**:
1. Verify command syntax against TL1 documentation
2. Check user permissions on device
3. Ensure correct platform selection (1603 SM vs SMX)
4. Validate all required parameters are provided
5. Check parameter format and values
6. Review examples in command_examples.json

**Expected Result**: Command executes with "COMPLD" response

#### Symptom 4.2: No response from device
**Root Cause**: Connection lost or command timeout

**Resolution Steps**:
1. Check connection status
2. Verify device is responding:
   ```
   RTRV-HDR:<TID>::<CTAG>::;
   ```
3. Increase timeout if necessary
4. Check for device processing delays
5. Retry with simpler command

**Expected Result**: Device responds within reasonable time

#### Symptom 4.3: Malformed command syntax
**Root Cause**: Parameter validation or command builder issue

**Resolution Steps**:
1. Review command preview before sending
2. Manually verify syntax format:
   ```
   VERB-MODIFIER:[TID]:[AID]:[CTAG]::[PARAMETERS];
   ```
3. Check for special characters or encoding issues
4. Use command examples as templates
5. Validate parameter schema compliance

**Expected Result**: Properly formatted TL1 command

---

## Section 5: Performance Issues

### Problem: Slow Response Times

#### Symptom 5.1: Web interface loads slowly
**Root Cause**: Large command database or system resources

**Resolution Steps**:
1. Check system CPU and memory usage
2. Close unnecessary browser tabs
3. Clear browser cache
4. Restart TL1 Assistant application
5. Consider using Chrome/Firefox for better performance

**Expected Result**: Responsive web interface

#### Symptom 5.2: Command execution delays
**Root Cause**: Network latency or device processing

**Resolution Steps**:
1. Test network latency:
   ```bash
   ping -c 10 <device_ip>
   ```
2. Check device CPU utilization
3. Avoid concurrent command execution
4. Use batch commands where possible
5. Consider scheduling non-urgent commands

**Expected Result**: Commands execute within expected timeframes

---

## Section 6: Database and Configuration Issues

### Problem: Command Database Issues

#### Symptom 6.1: Missing or incomplete command list
**Root Cause**: Corrupted commands.json file

**Resolution Steps**:
1. Verify file integrity:
   ```bash
   ls -la data/commands.json
   ```
2. Validate JSON format:
   ```bash
   python3 -c "import json; json.load(open('data/commands.json'))"
   ```
3. Check file size (should be ~685KB)
4. Restore from backup if corrupted
5. Re-download from repository if necessary

**Expected Result**: 630 commands loaded successfully

#### Symptom 6.2: Platform filtering not working
**Root Cause**: Command metadata issues

**Resolution Steps**:
1. Verify platform selection in web interface
2. Check command platform assignments in commands.json
3. Refresh browser page
4. Clear browser cache
5. Restart application

**Expected Result**: Correct command count for selected platform

---

## Escalation Procedures

### Level 1: Self-Service (5-15 minutes)
- Follow relevant troubleshooting section
- Check application logs and console output
- Verify basic connectivity and permissions

### Level 2: Advanced Troubleshooting (15-30 minutes)
- Review system logs and error messages
- Test with different devices or networks
- Analyze TL1 command responses and device behavior

### Level 3: Expert Support (30+ minutes)
- Document exact error messages and steps to reproduce
- Gather system information and configuration details
- Contact system administrator or vendor support
- Provide logs and diagnostic information

## Diagnostic Information Collection

When escalating issues, collect the following information:

### System Information
```bash
# Operating System
uname -a  # Linux/Mac
systeminfo  # Windows

# Python Version
python3 --version

# TL1 Assistant Version
head -5 tl1_web_gui.py

# Network Configuration
ifconfig  # Linux/Mac
ipconfig  # Windows
```

### Application Logs
- Console output from TL1 Assistant startup
- Browser developer console errors
- Network trace if connection issues
- Sample command inputs and device responses

### Device Information
- Device model and software version
- Network configuration and IP addresses
- TL1 access credentials and permissions
- Recent device changes or maintenance

## Prevention and Best Practices

1. **Regular Updates**: Keep TL1 Assistant and Python updated
2. **Backup Configuration**: Maintain backups of working configurations
3. **Documentation**: Document custom configurations and procedures
4. **Testing**: Test changes in lab environment before production
5. **Monitoring**: Monitor application and device performance regularly
6. **Training**: Ensure operators understand TL1 command safety
7. **Security**: Follow network security best practices
8. **Logging**: Maintain logs of TL1 sessions for troubleshooting

---

**Document Control**  
**Author**: TL1 Assistant Development Team  
**Review**: Technical Operations  
**Approval**: Network Engineering Manager  
**Next Review**: January 7, 2026